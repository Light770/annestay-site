<!-- Pricing plans: A simple script to toggle the pricing plans between annualy and monthly -->
<script>
	document.addEventListener('astro:page-load', () => {
		const pricingTypeCheckbox = document.getElementById('pricingType')
		const monthlyLabel = document.getElementById('monthlyLabel')
		const annualyLabel = document.getElementById('annualLabel')
		// Dynamically find all pricing plan elements
		const plans = Array.from(document.querySelectorAll('[id^="plan-"]')).map(el => el.id)
		console.log('Pricing plans found:', plans)
		
		if (pricingTypeCheckbox) {
			pricingTypeCheckbox.addEventListener('change', function () {
				console.log('Pricing toggle changed, switching between monthly/annual')
				plans.forEach((planId) => {
					const planElement = document.getElementById(planId)

					if (planElement && monthlyLabel && annualyLabel) {
						planElement.classList.toggle('pricing--annualy')
						planElement.classList.toggle('pricing--monthly')
						monthlyLabel.classList.toggle('text-primary-500')
						annualyLabel.classList.toggle('text-primary-500')
						console.log(`Toggled classes for ${planId}`)
					} else {
						console.warn(`Missing elements for ${planId}:`, {
							planElement: !!planElement,
							monthlyLabel: !!monthlyLabel,
							annualyLabel: !!annualyLabel
						})
					}
				})
			})
		} else {
			console.error('Pricing type checkbox not found')
		}
	})
</script>
